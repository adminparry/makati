<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>

<script>

    if (window.DeviceMotionEvent){
        window.addEventListener('devicemotion',deviceMotionHandler, false);
    } else {
        alert('不支持devicemotion事件');
    }
    let lastX = 0, lastY = 0, lastZ = 0;
    let lastTime = 0;
    
    function deviceMotionHandler(event){
        let x,y,z, acceleration,currentTime;
        currentTime = Date.now();

        acceleration = event.accelerationIncludingGravity;
        x = acceleration.x;
        y = acceleration.y;
        z = acceleration.z;

        // 灵敏度
        if ( Math.abs(x-lastX) > 12 || Math.abs(y-lastY) > 13 || Math.abs(z - lastZ) > 14 ){  
             // 最大频路是800ms一次
             if( Math.abs(currentTime - lastTime) > dur){
                 
                document.write(currentTime - lastTime)
                lastTime = currentTime;
             }

            
        }

        lastX = x;
        lastY = y;
        lastZ = z;
        
        
    }
</script>
</html>